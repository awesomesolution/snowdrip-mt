function removeWishlist(a){a.preventDefault();var b=$(this),c=b.closest("form"),d={action:"remove_wishlist"};return d=c.serialize()+"&"+$.param(d),$.ajax({type:"POST",url:"/a/wishlist",async:!0,cache:!1,data:d,dataType:"json",beforeSend:function(){$("body").addClass("is_loading")},error:function(a){console.log(a),$("body").removeClass("is_loading")},success:function(a){1==a.code?b.closest(".item").slideUp("fast",function(){b.closest(".item").remove(),$(".page-wishlist .infos").removeClass("hide"),$(".wishlist_items_number").text(a.json),0==a.json&&$(".wishlist-empty").removeClass("hide")}):(alert(a.json),console.log(a.json)),$("body").removeClass("is_loading")}}),!1}function addToWishlist(a){if(!$(this).hasClass("need-login")){a.preventDefault();var b=$(this),c=b.closest("form"),d={action:"add_wishlist"};return d=c.serialize()+"&"+$.param(d),$.ajax({type:"POST",url:"/a/wishlist",async:!0,cache:!1,data:d,dataType:"json",beforeSend:function(){$("body").addClass("is_loading"),b.hasClass("rtooltip")?b.addClass("loading"):b.attr("title",b.attr("data-loading-text")).find("span").text(b.attr("data-loading-text"))},error:function(a){console.log(a),$("body").removeClass("is_loading")},success:function(a){$("body").removeClass("is_loading"),b.hasClass("rtooltip")&&b.removeClass("loading");var c=$(".wishlist"+b.prev().val());1==a.code?(c.attr("title",b.attr("data-added")).addClass("added").find("span").text(b.attr("data-added")),$(".wishlist_items_number").text(a.json)):(c.attr("title",b.attr("data-title")).find("span").text(b.attr("data-title")),alert(a.json),console.log(a.json))}}),!1}}function addToCart(a){roar.closeThemeCtl2(),void 0!==a&&a.preventDefault();var b=$(this),c=b.closest("form");if(0==c.serialize().length){var d=b.parents(".product-information");c=d.find("form.product-actions")}return window.ajax_add_to_cart?void $.ajax({type:"POST",url:"/cart/add.js",async:!0,data:c.serialize(),dataType:"json",beforeSend:function(){$("body").addClass("is_loading")},error:function(a){var b="#error-ctl",c=jQuery(b),d=$.parseJSON(a.responseText);c.find(".heading").html(d.message),c.find(".message").html(d.description),setTimeout(function(){jQuery("body").removeClass("is_loading"),roar.showThemeCtl2(b),roar.timeout=setTimeout(function(){roar.closeThemeCtl2()},5e3)},500)},success:function(a){Shopify.getCart(function(b){var d=parseInt(c.find('input[name="quantity"]').val()),e="#cart-ctl",f=jQuery(e);f.find(".product-link").attr("href",a.url),f.find(".product-img").attr("src",Shopify.resizeImage(a.image,"medium")).attr("alt",a.title),f.find(".product-title .product-link").html(a.title),f.find(".product-price").html(Shopify.formatMoney(a.price,window.money_format)),f.find(".product-qty span").html(d),f.find(".product-total span").html(Shopify.formatMoney(a.price*d,window.money_format)),f.find(".product-subtotal span").html(Shopify.formatMoney(b.total_price,window.money_format)),window.show_multiple_currencies&&currenciesCallbackSpecial("#cart-ctl span.money"),setTimeout(function(){jQuery("body").removeClass("is_loading"),roar.showThemeCtl2(e),roar.timeout=setTimeout(function(){roar.closeThemeCtl2()},5e3)},500),Shopify.updateCartInfo(b,".cart-info")})},cache:!1}):void c.submit()}function searchPlaceholder(){Modernizr.input.placeholder||($("#top-search-input").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""==a.val()||a.val()==a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})}))}!function(a){function b(){}for(var c,d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(",");c=d.pop();)a[c]=a[c]||b}(function(){try{return console.log(),window.console}catch(a){return window.console={}}}());var GLOBAL={common:{init:function(){$("html").removeClass("no-js").addClass("js"),searchPlaceholder(),$("body").on("click",".add-to-cart",addToCart),$("body").on("click",".add_to_wishlist:not(.added)",addToWishlist),$("body").on("click",".remove-wishlist",removeWishlist)}}},UTIL={fire:function(a,b,c){var d=GLOBAL;b=void 0===b?"init":b,""!==a&&d[a]&&"function"==typeof d[a][b]&&d[a][b](c)},loadEvents:function(){var a=document.body.id;UTIL.fire("common"),$.each(document.body.className.split(/\s+/),function(b,c){UTIL.fire(c),UTIL.fire(c,a)})}};$(document).ready(UTIL.loadEvents);