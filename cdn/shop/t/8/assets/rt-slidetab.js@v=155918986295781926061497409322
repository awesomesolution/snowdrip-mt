var SlideTab={$slidesContainer:null,$tabsContainer:null,$slides:null,$tabs:null,currentIndex:0,tabWidth:null,intervalId:null,progressStep:null,$progressHolder:null,$progressBar:null,progressBarWidth:0,options:{smooth:!1,smoothSpeed:500,slideDelay:1e4,stepInterval:50,showEffect:"fadeIn",hideEffect:"fadeOut",showSpeed:1e3,hideSpeed:500,closedHeight:49,openedHeight:49,resetOnResize:!1,progressBarClass:"progress-bar",progressHolderClass:"progress-holder",dataAttribute:"image"},initialize:function(t,s,e){t&&s?($.extend(this.options,e),this.$slidesContainer=t,this.$tabsContainer=s,this.$slides=this.$slidesContainer.children("div"),this.$tabs=this.$tabsContainer.children("div"),this.tabWidth=this.$tabsContainer.outerWidth()/this.$tabs.length,this.progressStep=this.options.stepInterval/this.options.slideDelay*this.tabWidth,this.createProgressBar(),this.prepareTabsAndSlides(),this.addListeners(),this.activateTab($(this.$tabs[this.currentIndex]))):window.alert("SlideTab: Containers aren't defined!")},createProgressBar:function(){this.$progressHolder=$("<div></div>",{class:this.options.progressHolderClass}).prependTo(this.$tabsContainer),this.$progressBar=$("<div></div>",{class:this.options.progressBarClass}).prependTo(this.$progressHolder)},prepareTabsAndSlides:function(){var t=this;this.$slides.each(function(s,e){var i=$(e),r=i.data(t.options.dataAttribute);i.css({"background-image":"url("+r+")","background-size":"cover"}),$(t.$tabs[s]).css({width:t.tabWidth})})},addListeners:function(){var t=this;this.options.resetOnResize&&(window.onresize=function(){t.tabWidth=t.$tabsContainer.outerWidth()/t.$tabs.length,t.$tabs.css({width:t.tabWidth}),t.progressStep=t.options.stepInterval/t.options.slideDelay*t.tabWidth,t.activateTab($(t.$tabs[t.currentIndex]))}),this.$tabs.on("click",this.$tabs,function(){if(this!==t.$tabs[t.currentIndex]){var s=$(this);window.clearInterval(t.intervalId),t.currentIndex=s.index()-1,t.activateTab(s)}}),this.$tabs.on("mouseenter",this.$tabs,function(){t.setTabHeight($(this),t.options.openedHeight)}),this.$tabs.on("mouseleave",this.$tabs,function(){this!==t.$tabs[t.currentIndex]&&t.setTabHeight($(this),t.options.closedHeight)})},activateTab:function(t){var s=this;this.resetTabs(),$(this.$slides[this.currentIndex]).stop()[this.options.showEffect](this.options.showSpeed),this.setTabHeight(t,this.options.openedHeight),this.progressBarWidth=this.currentIndex*this.tabWidth,this.$progressBar.width(this.tabWidth),this.$progressBar.css("transform","translate3d("+this.progressBarWidth+"px, 0px, 0px)"),this.intervalId=window.setInterval(function(){s.fillProgressBar(s)},this.options.stepInterval)},resetTabs:function(){window.clearInterval(this.intervalId),this.setTabHeight(this.$tabs,this.options.closedHeight),this.$slides.stop()[this.options.hideEffect](this.options.hideSpeed),this.$slidesContainer.css("height",Math.round($(".slidetab-slide-container").width()/this.options.slideRatio)+"px"),$(".slidetabs-wrapper").css("height",this.$slidesContainer.height()+10+this.options.openedHeight+"px")},setCurrentIndex:function(){this.currentIndex+1<this.$tabs.length?this.currentIndex++:this.currentIndex=0},setTabHeight:function(t,s){t.css("height",s+"px")},fillProgressBar:function(t){t.progressBarWidth+=t.progressStep,t.$progressBar.width(Math.round(t.tabWidth)),t.progressBarWidth>=t.tabWidth*(1+t.currentIndex)&&(t.setCurrentIndex(),t.activateTab($(t.$tabs[t.currentIndex])))}};